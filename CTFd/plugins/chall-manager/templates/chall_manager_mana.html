{% extends "chall_manager_base.html" %}

{% block menu %}
    <li class="nav-item">
        <a class="nav-link" href="/plugins/ctfd-chall-manager/admin/settings">ðŸ”— Settings</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/plugins/ctfd-chall-manager/admin/instances">ðŸ”— Instances</a>
    </li>
    <li class="nav-item">
        <a class="nav-link active" href="#">Mana</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/plugins/ctfd-chall-manager/admin/panel">ðŸ”— Panel</a>
    </li>
{% endblock %}

{% block panel %}
<a class="row">    
    <div class="col-md-12">
        <div class="col-md-12">
        <table class="table table-striped border">
            <thead>
            <tr>
                <th class="border-right" data-checkbox>
                    <div class="form-check text-center">&nbsp;
                        <input type="checkbox" class="form-check-input" data-checkbox-all>
                    </div>
                </th>
                <th class="sort-col text-center"><b>Source ID</b></td>
                <th class="sort-col text-center"><b>Mana Used</b></td>
            </tr>
            </thead>

            <tbody>
                {% for source in sources %}
                <tr>
                    <td class="border-right" data-checkbox>
                        <div class="form-check text-center">&nbsp;
                            <input type="checkbox" class="form-check-input" 
                            data-source-id="{{ source.sourceId }}">
                        </div>
                    </td>
                
                    <td class="text-center">
                        <div class="form-check" id="source-id-div">
                            {% if user_mode == "teams" %}
                        <a href="{{ url_for('admin.teams_detail', team_id=source.sourceId) }}">
                            {{ source.sourceId }}
                        </a>
                        {% else %}
                        <a href="{{ url_for('admin.users_detail', user_id=source.sourceId) }}">
                            {{ source.sourceId }}
                        </a>
                        {% endif %}
                        </div>                      
                    </td>

                    <td class="text-center">
                        {{ source.mana }}
                    </td>



                {% endfor %}
            
            </tbody>
        </table>
    </div>
</div>

{% endblock %}
